(this["webpackJsonpcannon-aliens"]=this["webpackJsonpcannon-aliens"]||[]).push([[0],{24:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),a=n(6),r=n.n(a),c=(n(24),n(18)),s=1200,l=[-300,-150,150,300],x=n(1);var j=function(t){return Object(x.jsx)("rect",{style:{fill:"#30abef"},x:-2500,y:-1100,width:5e3,height:1200})};var u=function(t){var e=5e3;return Object(x.jsxs)("g",{id:"ground",children:[Object(x.jsx)("rect",{id:"ground-2","data-name":"ground",style:{fill:"#59a941"},x:-2500,y:0,width:e,height:100}),Object(x.jsx)("line",{x1:-2500,y1:0,x2:2500,y2:0,style:{stroke:"#458232",strokeWidth:"3px"}})]})},d=function(t){var e=t.initialAxis,n=t.initialControlPoint,i=t.endingControlPoint,o=t.endingAxis;return"\n    M".concat(e.x," ").concat(e.y,"\n    c ").concat(n.x," ").concat(n.y,"\n    ").concat(i.x," ").concat(i.y,"\n    ").concat(o.x," ").concat(o.y,"\n  ")},f=function(t){return 180*t/Math.PI},O=function(t,e,n,i){if(n>=0&&i>=0)return 90;if(n<0&&i>=0)return-90;var o=(n-t)/(i-e);return-1*f(Math.atan(o))},b=function(t){return t*Math.PI/180},y=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o=-1*n+90,a=f(Math.cos(b(o)))/i,r=f(Math.sin(b(o)))/i;return{x:t+a,y:e-r}};var g=function(t){var e={fill:"#999",stroke:"#666",strokeWidth:"2px"},n="rotate(".concat(t.rotation,", 0, 0)"),i={initialAxis:{x:-20,y:-70},initialControlPoint:{x:-40,y:170},endingControlPoint:{x:80,y:170},endingAxis:{x:40,y:0}};return Object(x.jsxs)("g",{transform:n,children:[Object(x.jsx)("path",{style:e,d:d(i)}),Object(x.jsx)("line",{x1:-20,y1:-70,x2:20,y2:-70,style:e})]})};var h,m,p=function(t){var e={fill:"#a16012",stroke:"#75450e",strokeWidth:"2px"},n={initialAxis:{x:-40,y:60},initialControlPoint:{x:20,y:-60},endingControlPoint:{x:60,y:-60},endingAxis:{x:80,y:0}};return Object(x.jsxs)("g",{children:[Object(x.jsx)("path",{style:e,d:d(n)}),Object(x.jsx)("line",{x1:-40,y1:60,x2:40,y2:60,style:e})]})},v=function(t){return Object(x.jsx)("g",{filter:"url(#shadow)",children:Object(x.jsx)("text",{style:{fontFamily:'"Joti One", cursive',fontSize:80,fill:"#d6d33e"},x:"300",y:"80",children:t.score})})},S=n(11),w=function(t){return Object(x.jsx)("ellipse",{cx:t.position.x,cy:t.position.y,rx:"40",ry:"10",style:{fill:"#979797",stroke:"#5c5c5c"}})},P=function(t){var e={initialAxis:{x:t.position.x-20,y:t.position.y},initialControlPoint:{x:10,y:-25},endingControlPoint:{x:30,y:-25},endingAxis:{x:40,y:0}};return Object(x.jsx)("path",{style:{fill:"#b6b6b6",stroke:"#7d7d7d"},d:d(e)})},C=n(12),A=Object(C.b)(h||(h=Object(S.a)(["\n  0% {\n    transform: translateY(0);\n  }\n  100% {\n    transform: translateY(","px);\n  }\n"])),s),k=C.a.g(m||(m=Object(S.a)(["\n  animation: "," 4s linear;\n"])),A),T=function(t){return Object(x.jsxs)(k,{children:[Object(x.jsx)(w,{position:t.position}),Object(x.jsx)(P,{position:t.position})]})},E=n(2),M=function(t){var e={x:-400,y:-280,width:800,height:200,rx:10,ry:10,style:{fill:"transparent",cursor:"pointer"},onClick:t.onClick},n={textAnchor:"middle",x:0,y:-150,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},onClick:t.onClick};return Object(x.jsxs)("g",{filter:"url(#shadow)",children:[Object(x.jsx)("rect",Object(E.a)({},e)),Object(x.jsx)("text",Object(E.a)(Object(E.a)({},n),{},{children:"Tap To Start!"}))]})},D=function(){var t={fontFamily:'"Joti One", cursive',fontSize:120,fill:"#cbca62"},e={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:0}},n=Object(E.a)(Object(E.a)({},e),{},{initialAxis:{x:-250,y:-780},initialControlPoint:{x:125,y:-90},endingControlPoint:{x:375,y:-90},endingAxis:{x:500,y:0}});return Object(x.jsxs)("g",{filter:"url(#shadow)",children:[Object(x.jsxs)("defs",{children:[Object(x.jsx)("path",{id:"AliensPath",d:d(e)}),Object(x.jsx)("path",{id:"GoHomePath",d:d(n)})]}),Object(x.jsx)("text",Object(E.a)(Object(E.a)({},t),{},{children:Object(x.jsx)("textPath",{xlinkHref:"#AliensPath",children:"Aliens,"})})),Object(x.jsx)("text",Object(E.a)(Object(E.a)({},t),{},{children:Object(x.jsx)("textPath",{xlinkHref:"#GoHomePath",children:"Go Home!"})}))]})},B=function(t){return Object(x.jsx)("ellipse",{style:{fill:"#777",stroke:"#444",strokeWidth:"2px"},cx:t.position.x,cy:t.position.y,rx:"16",ry:"16"})},I=function(t){var e={fill:"#da0d15",stroke:"#a51708",strokeWidth:"2px"},n={initialAxis:{x:t.position.x,y:t.position.y},initialControlPoint:{x:-20,y:-20},endingControlPoint:{x:-40,y:10},endingAxis:{x:0,y:40}},i={initialAxis:{x:t.position.x,y:t.position.y},initialControlPoint:{x:20,y:-20},endingControlPoint:{x:40,y:10},endingAxis:{x:0,y:40}};return Object(x.jsxs)("g",{filter:"url(#shadow)",children:[Object(x.jsx)("path",{style:e,d:d(n)}),Object(x.jsx)("path",{style:e,d:d(i)})]})};var _=function(t){for(var e=[window.innerWidth/-2,-1100,window.innerWidth,s],n=[],i=0;i<t.gameState.lives;i++){var o={x:-180-70*i,y:35};n.push(Object(x.jsx)(I,{position:o},i))}return Object(x.jsxs)("svg",{id:"aliens-go-home-canvas",preserveAspectRatio:"xMaxYMax none",onMouseMove:t.trackMouse,viewBox:e,onClick:t.shoot,children:[Object(x.jsx)("defs",{children:Object(x.jsx)("filter",{id:"shadow",children:Object(x.jsx)("feDropShadow",{dx:"1",dy:"1",stdDeviation:"2"})})}),Object(x.jsx)(j,{}),Object(x.jsx)(u,{}),t.gameState.cannonBalls.map((function(t){return Object(x.jsx)(B,{position:t.position},t.id)})),Object(x.jsx)(g,{rotation:t.angle}),Object(x.jsx)(p,{}),Object(x.jsx)(v,{score:t.gameState.kills}),!t.gameState.started&&Object(x.jsxs)("g",{children:[Object(x.jsx)(M,{onClick:function(){return t.startGame()}}),Object(x.jsx)(D,{})]}),t.gameState.started&&Object(x.jsx)("g",{children:t.gameState.flyingObjects.map((function(t){return Object(x.jsx)(T,{position:t.position},t.id)}))}),n]})};var G=function(t){var e=Object(i.useState)(),n=Object(c.a)(e,2),o=n[0],a=n[1];function r(t){a(function(t){var e=document.getElementById("aliens-go-home-canvas"),n=e.createSVGPoint();n.x=t.clientX,n.y=t.clientY;var i=n.matrixTransform(e.getScreenCTM().inverse());return{x:i.x,y:i.y}}(t))}return Object(i.useEffect)((function(){window.onresize=function(){var t=document.getElementById("aliens-go-home-canvas");t.style.width="".concat(window.innerWidth,"px"),t.style.height="".concat(window.innerHeight,"px")},window.onresize()})),Object(i.useEffect)((function(){var e=setInterval((function(){t.moveObjects(o)}),10);return function(){return clearInterval(e)}}),[o]),Object(x.jsx)(_,{angle:t.angle,gameState:t.gameState,startGame:t.startGame,trackMouse:function(t){return r(t)},shoot:function(){t.shoot(o)}})},W=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),o(t),a(t),r(t)}))},F=n(19),H="MOVE_OBJECTS",J="START_GAME",z="SHOOT",X=n(3),L=function(t){return t.filter((function(t){return t.position.y>-800&&t.position.x>-500&&t.position.x<500})).map((function(t){var e=t.position,n=e.x,i=e.y,o=t.angle;return Object(E.a)(Object(E.a)({},t),{},{position:y(n,i,o,5)})}))},N=function(t,e){var n=[];return e.forEach((function(e){var i=(new Date).getTime()-e.createdAt,o=e.position.x,a=e.position.y+i/4e3*s,r={x1:o-40,y1:a-10,x2:o+40,y2:a+10};t.forEach((function(t){var i={x1:t.position.x-8,y1:t.position.y-8,x2:t.position.x+8,y2:t.position.y+8};(function(t,e){return t.x1<e.x2&&t.x2>e.x1&&t.y1<e.y2&&t.y2>e.y1})(r,i)&&n.push({cannonBallId:t.id,flyingDiscId:e.id})}))})),n};var R=function(t,e){if(!t.gameState.started)return t;var n=L(t.gameState.cannonBalls),i=e.mousePosition||{x:0,y:0},o=function(t){if(!t.gameState.started)return t;var e=(new Date).getTime(),n=t.gameState,i=n.lastObjectCreatedAt,o=n.flyingObjects;if(!(e-i.getTime()>1e3&&o.length<4))return t;var a=(new Date).getTime(),r=Math.floor(4*Math.random()),c={position:{x:l[r],y:-1100},createdAt:(new Date).getTime(),id:a};return Object(E.a)(Object(E.a)({},t),{},{gameState:Object(E.a)(Object(E.a)({},t.gameState),{},{flyingObjects:[].concat(Object(X.a)(t.gameState.flyingObjects),[c]),lastObjectCreatedAt:new Date})})}(t),a=(new Date).getTime(),r=o.gameState.flyingObjects.filter((function(t){return a-t.createdAt<4e3})),c=t.gameState.flyingObjects.length>r.length,s=t.gameState.lives;c&&s--;var x=s>0;x||(r=[],n=[],s=3);var j=i.x,u=i.y,d=O(0,0,j,u),f=N(n,r),b=f.map((function(t){return t.cannonBallId})),y=f.map((function(t){return t.flyingDiscId}));n=n.filter((function(t){return b.indexOf(t.id)})),r=r.filter((function(t){return y.indexOf(t.id)}));var g=t.gameState.kills+y.length;return Object(E.a)(Object(E.a)({},o),{},{gameState:Object(E.a)(Object(E.a)({},o.gameState),{},{flyingObjects:r,cannonBalls:Object(X.a)(n),lives:s,started:x,kills:g}),angle:d})},V=function(t,e){return Object(E.a)(Object(E.a)({},t),{},{gameState:Object(E.a)(Object(E.a)({},e),{},{started:!0})})};var Y=function(t,e){if(!t.gameState.started)return t;var n=t.gameState.cannonBalls;if(2===n.length)return t;var i=e.mousePosition,o=i.x,a=i.y,r={position:{x:0,y:0},angle:O(0,0,o,a),id:(new Date).getTime()};return Object(E.a)(Object(E.a)({},t),{},{gameState:Object(E.a)(Object(E.a)({},t.gameState),{},{cannonBalls:[].concat(Object(X.a)(n),[r])})})},U={started:!1,kills:0,lives:3,flyingObjects:[],lastObjectCreatedAt:new Date,cannonBalls:[]},q={angle:45,gameState:U};var K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H:return R(t,e);case J:return V(t,U);case z:return Y(t,e);default:return t}},Q=n(9);var Z=Object(Q.b)((function(t){return{angle:t.angle,gameState:t.gameState}}),(function(t){return{moveObjects:function(e){t(function(t){return{type:H,mousePosition:t}}(e))},startGame:function(){t({type:J})},shoot:function(e){t(function(t){return{type:z,mousePosition:t}}(e))}}}))(G),$=Object(F.a)(K,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(Q.a,{store:$,children:Object(x.jsx)(Z,{})})}),document.getElementById("root")),W()}},[[32,1,2]]]);
//# sourceMappingURL=main.7fdc23ad.chunk.js.map